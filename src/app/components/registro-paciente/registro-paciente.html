
<main class="page">
  <section class="hero">
    <h1>Registro de Paciente</h1>
    <p>Complete los siguientes campos para registrar un nuevo paciente.</p>
    <div class="center-btn">
      <button class="btn btn-primary" type="button" (click)="volver()">Volver</button>
    </div>
  </section>

  <div class="divider"></div>

  <section class="form-wrap">
    <form [formGroup]="pacienteForm" (ngSubmit)="registrar()" novalidate>
      <div class="grid">
        <div class="field">
          <label>Nombres <span class="req">*</span></label>
          <input type="text" class="input" formControlName="nombres" placeholder="Ingrese sus nombres" />
          <small class="error" *ngIf="c['nombres'].touched && c['nombres'].invalid">Requerido.</small>
        </div>

        <div class="field">
          <label>Apellidos <span class="req">*</span></label>
          <input type="text" class="input" formControlName="apellidos" placeholder="Ingrese sus apellidos" />
          <small class="error" *ngIf="c['apellidos'].touched && c['apellidos'].invalid">Requerido.</small>
        </div>

        <div class="field">
          <label>DNI <span class="req">*</span></label>
          <input type="text"  class="input" formControlName="dni" placeholder="Ingrese su DNI" maxlength="8" />
          <small class="error" *ngIf="c['dni'].touched && c['dni'].invalid">DNI inválido (8 dígitos).</small>
        </div>

        <div class="field">
          <label>Fecha de Nacimiento <span class="req">*</span></label>
          <input type="date" class="input" formControlName="fechaNacimiento" />
          <small class="hint">Formato: DD/MM/AAAA</small>
        </div>

        <div class="field">
          <label>Sexo <span class="req">*</span></label>
          <div class="sex-row">
            <button type="button" (click)="pacienteForm.controls['sexo'].setValue('M')" [class.active]="pacienteForm.value.sexo==='M'">Masculino</button>
            <button type="button" (click)="pacienteForm.controls['sexo'].setValue('F')" [class.active]="pacienteForm.value.sexo==='F'">Femenino</button>
          </div>
          <small class="error" *ngIf="c['sexo'].touched && c['sexo'].invalid">Seleccione sexo.</small>
        </div>

        <div class="field">
          <label>Dirección</label>
          <input type="text" class="input" formControlName="direccion" placeholder="Ingrese su dirección" />
        </div>

        <div class="field">
          <label>Teléfono</label>
          <input type="text" class="input" formControlName="telefono" placeholder="Ingrese su número de teléfono" />
          <small class="error" *ngIf="c['telefono'].touched && c['telefono'].invalid">Teléfono inválido.</small>
        </div>

        <div class="field">
          <label>Correo Electrónico</label>
          <input type="email" class="input" formControlName="email" placeholder="Ingrese su correo electrónico" />
          <small class="error" *ngIf="c['email'].touched && c['email'].invalid">Correo inválido.</small>
        </div>

        <div class="field">
          <label>Tipo de Sangre</label>
          <div class="blood-row">
            <button *ngFor="let t of tiposSangre" type="button" (click)="pacienteForm.controls['tipoSangre'].setValue(t)" [class.selected]="pacienteForm.value.tipoSangre===t">{{t}}</button>
          </div>
        </div>

        <div class="field full">
          <label>Alergias</label>
          <input type="text" class="input" formControlName="alergias" placeholder="Describa sus alergias" />
        </div>
      </div>

      <div class="actions">
        <button type="submit" class="primary">Registrar paciente</button>
      </div>
    </form>
  </section>

</main>
