<div class="container">
  <h2>Pacientes Atendidos</h2>
  <p>Consulta tus pacientes anteriores.</p>
  <button (click)="mostrarPacientes()" class="btn">Mostrar</button>

  <div *ngIf="pacientes.length > 0" class="lista-pacientes">
    <div *ngFor="let paciente of pacientes" class="item-paciente">
      <div class="avatar">
        <svg xmlns="http://www.w3.org/2000/svg" height="32px" viewBox="0 0 24 24" width="32px" fill="#2196f3">
          <path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.
                   1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-7 
                   14.5c-2.33 0-4.31-1.62-4.68-3.75a5.015 5.015 0 
                   01-2.32-.75c.01 1.7 1.38 3.12 3.09 3.14 1.62.02 
                   3.08-1.25 3.3-2.85.16 1.64 1.52 2.77 3.03 
                   2.77.19 0 .38-.02.56-.07-.9.96-2.14 
                   1.53-3.58 1.53z"/>
        </svg>
      </div>
      <div class="info">
        <strong>Paciente:</strong> {{ paciente.nombres }} {{ paciente.apellidos }}<br />
        <strong>DNI:</strong> {{ paciente.dni }}<br />
        <strong>Diagnóstico:</strong> {{ paciente.diagnosticoUltimo || '—' }}
      </div>
      <div class="consulta">
        <button class="btn-consulta">Consulta #{{ paciente.idUltimaConsulta }}</button>
        <div class="fecha">Fecha: {{ paciente.fechaUltimaConsulta | date:'yyyy-MM-dd' }}</div>
      </div>
    </div>
  </div>

  <div *ngIf="!loading && pacientes.length === 0" class="mensaje-vacio">
    No se encontraron pacientes atendidos.
  </div>
</div>
